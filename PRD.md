# PRD: Мобильное приложение «Лицей 67»

## 1. Цель продукта

Единое мобильное приложение для учеников, родителей и сотрудников Лицея 67 включающее:

- Расписание
- Новости
- Нормативные документы
- Навигация по школе
- Олимпиады

Данные по расписанию и событиям подтягиваются из API для обновлений без релизов.

## 2. Платформа и стек

- **Клиент:** React Native (рекомендуется Expo + React Navigation)
- **Состояние:** Redux Toolkit
- **Хранение локальных данных:** AsyncStorage (класс, кэш расписания, настройки)
- **CI/CD:** EAS (Expo)
- **Уведомления:** Expo Notifications
- **Аналитика:** Firebase Analytics

## 3. Основные сценарии

### 3.1 Онбординг (первый вход)

- Пользователь выбирает класс из выпадающего списка («7А», «10Б»)
- Выбор сохраняется локально для автозагрузки расписания
- Возможность пропустить с подсказкой вернуться в «Настройки»

**Acceptance:**

- При повторном запуске класс не запрашивается
- Без выбора класса «Расписание» показывает CTA «Выбрать класс»

### 3.2 Расписание

- **Текущий день:** список уроков с временем, предметом, кабинетом, ФИО учителя
- **Неделя:** табличный вид или свайп по дням
- **Навигация по лицею:** план 3 этажей
- **Звонки:** таблица времени уроков/перемен

### 3.3 Календарь

- Годовой календарный график: учебные периоды, каникулы, значимые даты
- Счётчик до каникул по данным из API

### 3.4 Новости лицея

- **Официальный сайт:** лента новостей (RSS/JSON API)
- **ВК:** последние 5 постов официальной группы
- **Telegram:** последние 5 сообщений канала

### 3.5 Олимпиады

Link to olimp74.ru

<!-- - Список олимпиад (название, дата/время, место/кабинет, предмет, регистрация)
- Push-уведомления в день олимпиады (настраиваемое время)
- Фильтры по классу, предмету, дате -->

### 3.6 Памятки

- Положение о школьной форме (PDF/встроенная страница)
- Правила поведения учащихся
- Памятка по безопасности

### 3.7 Выпускнику

link to fipi website

## 4. Структура меню

### Tab Bar (нижнее меню):

- **Расписание:** Сегодня, Неделя, Навигация по школе, Звонки
- **Календарь:** Годовой график, счётчик до каникул
- **Новости:** Сайт лицея, ВК, Телеграм
- Other:
  - **Олимпиады**
  - **Памятки:** Форма, Правила, Безопасность
  - **Выпускнику:** ФИПИ

### Header:

- Настройки (смена класса, уведомления, очистка кэша)

## 5. API контракты (основные)

**Базовый URL:** настраивается удалённо через Remote Config

### Справочники

- `GET /classes` → список классов
- `GET /school-map` → план школы с привязкой кабинетов

### Расписание

- `GET /schedule?classId=7А&date=2025-09-01` → расписание на день
- `GET /schedule/week?classId=7А&week=2025-W36` → расписание на неделю
- `GET /bells` → звонки + особые дни

### Календарь

- `GET /calendar/school-year` → учебные периоды, каникулы
- `GET /holidays/next` → следующие каникулы

### Новости

- `GET /news/lyceum` → лента сайта
- `GET /news/vk?limit=5` → посты ВК
- `GET /news/tg?limit=5` → сообщения Telegram

### Документы

- `GET /docs` → памятки и документы
- `GET /links` → статические ссылки (ФИПИ, Olimp74)

## 6. UX требования

- **Оффлайн режим:** показ кэша + баннер «Нет соединения»
- **Состояния загрузки:** скелетоны/лоадеры
- **Обновление:** фоновая синхронизация при входе на экран
- **Доступность:** крупные шрифты, контраст, screen reader

## 7. Уведомления

- Изменения расписания: при критических обновлениях
- Важные новости: ручные пуши через админку

## 8. MVP объём

1. Онбординг с выбором класса
2. Расписание: Сегодня, Неделя, Звонки
3. Навигация: статичная карта 3 этажей
4. Календарь + счётчик до каникул
5. Новости: сайт + ВК + ТГ
6. Олимпиады: список
7. Памятки и ссылки ФИПИ

## 9. Критерии приёмки

- Без выбранного класса показывается CTA «Выбрать класс»
- Смена класса мгновенно обновляет расписание
- Оффлайн режим с кэшем и пометкой последней синхронизации
- Push-уведомления для олимпиад в установленное время
- Минимум 5 новостей из ВК и ТГ или сообщение об их отсутствии

## 10. Будущие улучшения

### 10.1 Интеграция с реальными API

#### Новостная система

- **VK API интеграция:** Использование VK API с access token для получения реальных постов из группы myschool_67
- **Telegram Bot API:** Настройка Telegram бота для получения сообщений из канала @licey67
- **Website scraping proxy:** Backend-сервис для регулярного парсинга новостей с chel67.ru и предоставления чистого JSON API
- **RSS/JSON feeds:** Прямая интеграция с RSS лентой или API официального сайта лицея

#### Реальные данные расписания

- **Электронный журнал:** Интеграция с системой электронного журнала лицея
- **API расписания:** Подключение к базе данных расписания для получения актуальных изменений
- **Уведомления об изменениях:** Push-уведомления при изменениях в расписании

### 10.2 Расширенная функциональность

#### Многоуровневая аутентификация

- **Роли пользователей:** Ученик, Родитель, Учитель, Администрация
- **Персонализированный контент:** Разный функционал для разных ролей
- **Безопасность:** OAuth через школьную систему или государственные сервисы

#### Интерактивные возможности

- **Чат с учителями:** Система сообщений между учениками/родителями и учителями
- **Домашние задания:** Просмотр и сдача заданий через приложение
- **Оценки и успеваемость:** Электронный дневник в мобильном приложении
- **Посещаемость:** Отметки о посещаемости уроков

### 10.3 Технические улучшения

#### Performance & UX

- **Offline-first архитектура:** Полноценная работа без интернета с синхронизацией
- **Progressive Web App:** Веб-версия приложения для универсального доступа
- **Dark Mode:** Темная тема интерфейса
- **Мультиязычность:** Поддержка нескольких языков

#### Advanced Features

- **QR-код сканирование:** Быстрый доступ к ресурсам через QR-коды в школе
- **Геолокация:** Напоминания о занятиях при приближении к лицею
- **Биометрическая аутентификация:** Face ID / Touch ID для входа
- **Voice Assistant:** Голосовые команды для получения расписания

#### Analytics & Monitoring

- **Детальная аналитика:** Отслеживание использования функций
- **Crash reporting:** Автоматические отчеты об ошибках
- **A/B тестирование:** Тестирование различных вариантов интерфейса
- **Performance monitoring:** Мониторинг скорости работы приложения

### 10.4 Контент и документооборот

#### Цифровая библиотека

- **Электронные учебники:** Доступ к школьным учебникам в приложении
- **Методические материалы:** База знаний для учителей и учеников
- **Школьное положение:** Все нормативные документы в цифровом виде

#### Дополнительные сервисы

- **Школьное питание:** Меню столовой и возможность заказа
- **Транспорт:** Расписание школьного автобуса и уведомления
- **Медицинский кабинет:** Запись на прием, медицинские справки
- **Психологическая поддержка:** Анонимные консультации и тесты

### 10.5 Интеграция с внешними системами

#### Государственные сервисы

- **Госуслуги:** Интеграция для получения справок и документов
- **Региональные системы:** Подключение к городским образовательным платформам
- **ЕГЭ/ОГЭ сервисы:** Прямая интеграция с экзаменационными системами

#### Социальные функции

- **Школьная социальная сеть:** Внутренняя платформа для общения учеников
- **Родительские группы:** Организованное общение родителей по классам
- **Мероприятия и события:** Календарь школьных мероприятий с возможностью участия

### 10.6 Безопасность и модерация

#### Безопасность данных

- **End-to-end шифрование:** Защита персональных данных учеников
- **GDPR compliance:** Соответствие требованиям защиты данных
- **Аудит безопасности:** Регулярные проверки безопасности системы

#### Модерация контента

- **AI модерация:** Автоматическая фильтрация неподходящего контента
- **Система жалоб:** Возможность сообщить о проблемах или нарушениях
- **Родительский контроль:** Настройки для ограничения доступа

### 10.7 Масштабирование

#### Мульти-школьная платформа

- **White-label решение:** Возможность развертывания для других школ
- **Централизованная административная панель:** Управление несколькими школами
- **Межшкольные мероприятия:** Организация совместных проектов и олимпиад

#### Технологическая инфраструктура

- **Микросервисная архитектура:** Разделение на независимые сервисы
- **Kubernetes deployment:** Контейнеризация для легкого масштабирования
- **CDN интеграция:** Быстрая доставка контента пользователям
- **Real-time синхронизация:** WebSocket для мгновенных обновлений

## 11. Roadmap развития

### Фаза 1 (Текущая) - MVP

- ✅ Базовый функционал расписания, новостей, календаря
- ✅ Интеграция с сайтом лицея, VK, Telegram (кэшированные данные)

### Фаза 2 (3-6 месяцев)

- 🔄 Реальные API интеграции
- 📱 Push-уведомления
- 🌙 Dark mode
- 📊 Базовая аналитика

### Фаза 3 (6-12 месяцев)

- 👥 Система ролей пользователей
- 💬 Чат с учителями
- 📚 Домашние задания
- 🔒 Биометрическая аутентификация

### Фаза 4 (1-2 года)

- 🏫 Мульти-школьная платформа
- 🤖 AI-powered функции
- 🌐 Progressive Web App
- 📈 Advanced analytics
